<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SmartDict: Dynamic pointing of values in Python dictionaries - Qijiong LIU (Jyonn)</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Qijiong Liu&#039;s Blog"><meta name="msapplication-TileImage" content="https://s.6-79.cn/lJ2SmI/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Qijiong Liu&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="IntroductionChain assignment of dictionary values, which can be used to reduce redundancy in configuration dictionaries."><meta property="og:type" content="blog"><meta property="og:title" content="Qijiong Liu&#039;s Blog"><meta property="og:url" content="https://liu.qijiong.work/"><meta property="og:site_name" content="Jyonn Space"><meta property="og:description" content="IntroductionChain assignment of dictionary values, which can be used to reduce redundancy in configuration dictionaries."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://liu.qijiong.work/img/og_image.png"><meta property="article:published_time" content="2022-11-09T08:16:13.000Z"><meta property="article:modified_time" content="2023-10-18T03:18:37.343Z"><meta property="article:author" content="Qijiong Liu"><meta property="article:tag" content="python"><meta property="article:tag" content="package"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://liu.qijiong.work/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://liu.qijiong.work/2022/11/09/Develop-SmartDict/"},"headline":"SmartDict: Dynamic pointing of values in Python dictionaries","image":["https://liu.qijiong.work/img/og_image.png"],"datePublished":"2022-11-09T08:16:13.000Z","dateModified":"2023-10-18T03:18:37.343Z","author":{"@type":"Person","name":"Qijiong LIU (Jyonn)"},"publisher":{"@type":"Organization","name":"Qijiong LIU (Jyonn)","logo":{"@type":"ImageObject","url":"https://liu.qijiong.work/images/logo.svg"}},"description":"IntroductionChain assignment of dictionary values, which can be used to reduce redundancy in configuration dictionaries."}</script><link rel="canonical" href="https://liu.qijiong.work/2022/11/09/Develop-SmartDict/"><link rel="icon" href="https://s.6-79.cn/lJ2SmI/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/logo.svg" alt="Qijiong LIU (Jyonn)" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/resume">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub Repo" href="https://github.com/Jyonn/jyonn.github.io"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-11-09T08:16:13.000Z" title="11/9/2022, 4:16:13â€¯PM">2022-11-09</time></span><span class="level-item"><a class="link-muted" href="/categories/Development/">Development</a></span></div></div><h1 class="title is-3 is-size-4-mobile">SmartDict: Dynamic pointing of values in Python dictionaries</h1><div class="content"><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Chain assignment of dictionary values, which can be used to reduce redundancy in configuration dictionaries.</p>
<span id="more"></span>

<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install smartdict</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Assuming the following configuration dictionary exists:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dataset&quot;</span><span class="punctuation">:</span> <span class="string">&quot;spotify&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;load&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;train_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~/data/spotify/train&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dev_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~/data/spotify/dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;test_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~/data/spotify/test&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;network&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;num_hidden_layers&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;num_attention_heads&quot;</span><span class="punctuation">:</span> <span class="number">8</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;hidden_size&quot;</span><span class="punctuation">:</span> <span class="number">64</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;store&quot;</span><span class="punctuation">:</span> <span class="string">&quot;checkpoints/spotify/3L8H/&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>It can be observed that many paths such as <code>train_path</code> are related to the dataset name dataset, and the store storage path is related to the dataset name, network structure, and so on. Additionally, if the dataset or network structure is changed, the configuration dictionary needs to be modified complexly.</p>
<p>One solution is to handle the redundant information in Python code. For example, the value of <code>train_path</code> is directly assigned to train, in the code as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&#x27;load&#x27;</span>][<span class="string">&#x27;train_path&#x27;</span>] = os.path.join(<span class="string">&#x27;~&#x27;</span>, <span class="string">&#x27;data&#x27;</span>, data[<span class="string">&#x27;dataset&#x27;</span>], data[<span class="string">&#x27;load&#x27;</span>][<span class="string">&#x27;train_path&#x27;</span>])</span><br></pre></td></tr></table></figure>

<p>However, this method is not flexible enough. As the number of configuration properties increases, the amount of code required also increases linearly, making the preprocessing of configuration data slightly cumbersome.</p>
<h3 id="Normal-String-Referencing"><a href="#Normal-String-Referencing" class="headerlink" title="Normal String Referencing ${}"></a>Normal String Referencing <code>$&#123;&#125;</code></h3><p>We propose to construct the dictionary values as dynamic data, for example:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dataset&quot;</span><span class="punctuation">:</span> <span class="string">&quot;spotify&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;load&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;base_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~/data/$&#123;dataset&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;train_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;load.base_path&#125;/train&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dev_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;load.base_path&#125;/dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;test_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;load.base_path&#125;/test&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;network&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;num_hidden_layers&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;num_attention_heads&quot;</span><span class="punctuation">:</span> <span class="number">8</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;hidden_size&quot;</span><span class="punctuation">:</span> <span class="number">64</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;store&quot;</span><span class="punctuation">:</span> <span class="string">&quot;checkpoints/$&#123;dataset&#125;/$&#123;network.num_hidden_layers&#125;L$&#123;network.num_attention_heads&#125;H/&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>The value of <code>train_path</code> is dynamically constructed by referencing the value of <code>base_path</code> and <code>train</code>, and the value of <code>store</code> is dynamically constructed by referencing the value of <code>dataset</code>, <code>network.num_hidden_layers</code>, and <code>network.num_attention_heads</code>.</p>
<p>The above configuration dictionary can be processed as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># solution 1</span></span><br><span class="line"><span class="keyword">import</span> smartdict</span><br><span class="line">data = smartdict.parse(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># solution 2</span></span><br><span class="line"><span class="keyword">from</span> smartdict <span class="keyword">import</span> DictCompiler</span><br><span class="line">compiler = DictCompiler(data)</span><br><span class="line">data = compiler.parse()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;load&#x27;</span>][<span class="string">&#x27;base_path&#x27;</span>])  <span class="comment"># =&gt; ~/data/spotify</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;load&#x27;</span>][<span class="string">&#x27;dev_path&#x27;</span>])  <span class="comment"># =&gt; ~/data/spotify/dev</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;store&#x27;</span>])  <span class="comment"># =&gt; checkpoints/spotify/3L8H/</span></span><br></pre></td></tr></table></figure>

<p>Highly recommended to use <code>smartdict</code> along with <a href="https://liu.qijiong.work/2022/11/07/Oba-Converting-a-Python-iterable-object-to-an-attribute-class/">Oba</a>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> oba <span class="keyword">import</span> Obj</span><br><span class="line"></span><br><span class="line">data = Obj(data)</span><br><span class="line"><span class="built_in">print</span>(data.load.base_path)  <span class="comment"># =&gt; ~/data/spotify</span></span><br><span class="line"><span class="built_in">print</span>(data.load.dev_path)  <span class="comment"># =&gt; ~/data/spotify/dev</span></span><br><span class="line"><span class="built_in">print</span>(data.store)  <span class="comment"># =&gt; checkpoints/spotify/3L8H/</span></span><br></pre></td></tr></table></figure>

<h3 id="Full-Match-Referencing"><a href="#Full-Match-Referencing" class="headerlink" title="Full Match Referencing ${}$"></a>Full Match Referencing <code>$&#123;&#125;$</code></h3><p>In the Normal String Referencing <code>$&#123;&#125;</code> solution, the value of the configuration dictionary is a string. The reference is performed through a chain path (separated by <code>.</code>) within the <code>$&#123;&#125;</code> identifier.</p>
<p>The Full Match Reference only allows the property value to be completely covered by the identifier <code>$&#123;&#125;$</code>. For example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> oba</span><br><span class="line"><span class="keyword">import</span> smartdict</span><br><span class="line"></span><br><span class="line">data = <span class="built_in">dict</span>(</span><br><span class="line">    a=<span class="string">&#x27;$&#123;b.v.1&#125;+1&#x27;</span>,  <span class="comment"># Normal String Referencing</span></span><br><span class="line">    b=<span class="string">&#x27;$&#123;c&#125;$&#x27;</span>,  <span class="comment"># Full Match Referencing</span></span><br><span class="line">    c=<span class="built_in">dict</span>(</span><br><span class="line">        l=<span class="number">23</span>,</span><br><span class="line">        v=(<span class="string">&#x27;are&#x27;</span>, <span class="string">&#x27;you&#x27;</span>, <span class="string">&#x27;ok&#x27;</span>),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">data = smartdict.parse(data)</span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;b&#x27;</span>])  <span class="comment"># =&gt; &#123;&#x27;l&#x27;: 23, &#x27;v&#x27;: (&#x27;are&#x27;, &#x27;you&#x27;, &#x27;ok&#x27;)&#125;</span></span><br><span class="line"></span><br><span class="line">data = oba.Obj(data)</span><br><span class="line"><span class="built_in">print</span>(data.a)  <span class="comment"># =&gt; you+1</span></span><br><span class="line"><span class="built_in">print</span>(data.b.l)  <span class="comment"># =&gt; 23</span></span><br></pre></td></tr></table></figure>

<p>In which <code>b</code> is identical to <code>c</code> through the Full Match Reference.</p>
<h3 id="Summon-Magic"><a href="#Summon-Magic" class="headerlink" title="Summon Magic"></a>Summon Magic</h3><p>Sometimes, we may wish to generate the path through timestamps or random numbers. We can first construct the following two classes:</p>
<blockquote>
<p>TimestampMagic</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TimestampMagic</span>(<span class="title class_ inherited__">dict</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">dict</span>.__init__(self, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__contains__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, item</span>):</span><br><span class="line">        now = datetime.datetime.now()</span><br><span class="line">        <span class="keyword">if</span> item == <span class="string">&#x27;str&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> now.strftime(<span class="string">&#x27;%y%m%d-%H%M%S&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">hex</span>(<span class="built_in">int</span>(now.timestamp()))[<span class="number">2</span>:]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>RandomMagic</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomMagic</span>(<span class="title class_ inherited__">dict</span>):</span><br><span class="line">    chars = string.ascii_letters + string.digits</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">dict</span>.__init__(self, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__contains__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([random.choice(self.chars) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">int</span>(item))])</span><br></pre></td></tr></table></figure>

<p>Then, we can use the following configuration dictionary:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> smartdict</span><br><span class="line"></span><br><span class="line">data = <span class="built_in">dict</span>(</span><br><span class="line">    filename=<span class="string">&#x27;$&#123;utils.time.str&#125;/$&#123;utils.rand.4&#125;.log&#x27;</span>,  <span class="comment"># Summon Magic, supported by smartdict&gt;=0.0.4</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">data.update(<span class="built_in">dict</span>(</span><br><span class="line">    utils=<span class="built_in">dict</span>(</span><br><span class="line">        rand=Rand(),</span><br><span class="line">        time=Timing(),</span><br><span class="line">    )</span><br><span class="line">))</span><br><span class="line">data = smartdict.parse(data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;filename&#x27;</span>])  <span class="comment"># =&gt; 20221110-123504/to1E.log</span></span><br></pre></td></tr></table></figure>

<p>The principle behind this is to override the classâ€™s <code>[]</code> operator to make it behave the same as a dictionary or list.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT</p>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Jyonn/smartdict">GitHub</a></li>
<li><a target="_blank" rel="noopener" href="https://pypi.org/project/smartdict/">PyPI</a></li>
<li><a href="https://liu.qijiong.work/2022/11/09/Develop-SmartDict/">Documentation</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/582135889/">Chinese version</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>SmartDict: Dynamic pointing of values in Python dictionaries</p><p><a href="https://liu.qijiong.work/2022/11/09/Develop-SmartDict/">https://liu.qijiong.work/2022/11/09/Develop-SmartDict/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Qijiong LIU (Jyonn)</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2022-11-09</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-10-18</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/python/">python</a><a class="link-muted mr-2" rel="tag" href="/tags/package/">package</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/11/19/Research-ContGCN/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Continual Graph Convolutional Networks for Text Classification</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/11/07/Develop-Oba/"><span class="level-item">Oba: Converting a Python iterable object to an attribute class</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "0c7c88cec2a0c71860cddaf5cad08e62",
            repo: "jyonn.github.io",
            owner: "jyonn",
            clientID: "dda83d027f373436409a",
            clientSecret: "c3a15a49c437c152c6c41eb78d647c3f98e38f4a",
            admin: ["jyonn"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            language: "zh-CN",
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.jpg" alt="Qijiong Liu"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Qijiong Liu</p><p class="is-size-6 is-block">PHD candidate</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ðŸ‡­ðŸ‡°HK PolyU</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Jyonn" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Jyonn"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://linkedin.com/in/jyonnliu"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Instagram" href="https://www.instagram.com/jyonnliu/"><i class="fab fa-instagram"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:i@6-79.cn"><i class="fas fa-envelope"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www4.comp.polyu.edu.hk/~csxmwu/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Advisor</span></span><span class="level-right"><span class="level-item tag">www4.comp.polyu.edu.hk</span></span></a></li><li><a class="level is-mobile" href="https://rizya.jyonn.space" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Rizya</span></span><span class="level-right"><span class="level-item tag">rizya.jyonn.space</span></span></a></li><li><a class="level is-mobile" href="https://d.6-79.cn" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">RusticCasket</span></span><span class="level-right"><span class="level-item tag">d.6-79.cn</span></span></a></li><li><a class="level is-mobile" href="https://pypi.org/project/UniTok" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">UniTok</span></span><span class="level-right"><span class="level-item tag">pypi.org</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Research/"><span class="level-start"><span class="level-item">Research</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-19T08:55:04.000Z">2023-10-19</time></p><p class="title"><a href="/2023/10/19/Research-DCon/">Leveraging Large Language Models (LLMs) to Empower Training-Free Dataset Condensation for Content-Based Recommendation</a></p><p class="categories"><a href="/categories/Research/">Research</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-18T03:13:42.000Z">2023-10-18</time></p><p class="title"><a href="/2023/10/18/Develop-Pigmento/">Pigmento: Colorize and Trace Printing</a></p><p class="categories"><a href="/categories/Development/">Development</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-09-01T03:19:32.000Z">2023-09-01</time></p><p class="title"><a href="/2023/09/01/Research-COVE/">Learning Category Trees for ID-Based Recommendation: Exploring the Power of Differentiable Vector Quantization</a></p><p class="categories"><a href="/categories/Research/">Research</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-31T07:16:17.000Z">2023-08-31</time></p><p class="title"><a href="/2023/08/31/Research-ONCE/">ONCE: Boosting Content-based Recommendation with Both Open- and Closed-source Large Language Models</a></p><p class="categories"><a href="/categories/Research/">Research</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-29T09:34:12.000Z">2023-08-29</time></p><p class="title"><a href="/2023/08/29/Research-OLEO/">Only Encode Once: Making Content-based News Recommender Greener</a></p><p class="categories"><a href="/categories/Research/">Research</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/"><span class="level-start"><span class="level-item">2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/green-AI/"><span class="tag">green AI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/large-language-model/"><span class="tag">large language model</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/list-completion/"><span class="tag">list completion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/natural-language-processing/"><span class="tag">natural language processing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/non-autoregressive-generation/"><span class="tag">non-autoregressive generation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/package/"><span class="tag">package</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/recommender-system/"><span class="tag">recommender system</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/research/"><span class="tag">research</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/text-classification/"><span class="tag">text classification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vector-quantization/"><span class="tag">vector quantization</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/logo.svg" alt="Qijiong LIU (Jyonn)" height="28"></a><p class="is-size-7"><span>&copy; 2023 Qijiong LIU (Jyonn)</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>